# mac0216

## Um pouco de história

Calculadora

ábaco
- por volta de 5500 a.C.
- útil para somas e subtrações
régua de cálculo
- por volta de 1938
- útil para multiplicação
máquina de Pascal
- por volta de 1642
- primeira calculadora mecânica
arithmmètre
- por volta de 1826
- primeira calculadora mecânica comercial

Nenhuma dessas calculadoras eram programáveis para ter uma melhor eficiência.

tear de Jacquard
- programável
- capaz de desenhar padrões

Babbage (1791-1871)
- teve a ideia de criar uma máquina programável

Ada Lovelace (1815-1852)
- teve a ideia de escrever um programa para a máquina de Babbage
- cunhou o termo algoritmo

Herman Hollerith (1860-1921)
- criou uma máquina para ler cartões perfurados

Alan Turing (1912-1954)
- contribuições práticas e teóricas -> Bomb Machine

Jon Von Neumann (1903-1957)
- criou a arquiteura de Von Neumann
  - memória, CPU, IO

## Ciclo de busca e execução

- Um programa é uma lista de instruções
- Um processador efetua uma computaçao por meio do ciclo de busca e execução
- Cada instrução instrui o processador a realizar alguma operação (ex.: soma 2 números, compara 2 números)

Na arquitetura x86, temos
- Registradores (memória)
  - Contador de programa (PC)
  - Registrador de instrução (IR)
  - Armazenamento de resultados intermediários
- ULA (Unidade Lógico Aritmética)
  - and, or, not, adições, subtrações
- UC (Unidade de Controle)

As instruções podem ser
- aritméticas e lógicas
- movimentação de dados
- operações de entrada e saída
- controle de fluxo de execução (desvios condicionais e incondicionais)

## Organização de memória
- A memória é um retângulo de bits, e cada retângulo é chamado de palavra.
- Transferências de dados de/para memória não-finita de 1 ou mais palavras por vez.
- Palavras são numeradas consecutivamente iniciando em 0. Esses números são os endereços.
- Capacidade de mempori é o número de palavas multiplicado pelo tamanho de cada palavra.
- Geralmente, vamos usar represenação hexadecimal para fazer referências aos endereços da memória. Para isso, vamos usar o prefixo `0x`.
- Para valores em binário, vamos usar o sufixo `b`.

## Arquitetura da família x86

Os processadores x86 usam da arquitetura CISC, havendo retrocompatibilidade com processadores mais antigos.

Registradoes do 8080 (8 bits)
- A: acumulador
  - movimentação de dados
  - operações aritméticas
- B: base
  - ponteiro para acesso a memória
  - recebe o retorno de algumas interrupções
- C: contador
  - controla o número de vezes que um laço deve ser executado (índice 'i')
  - usado para algumas operações aritméticas
- D: dados
  - usado em operações de I/O
  - usado em multiplicação ou divisão de números grandes
- H: high e L: low
  - usados como um bloco de 16 bits

Registradores da família 8086 (16 bits)
- AX (AH e AL)
- BX (BH e BL)
- CX (CH e CL)
- DX (DH e DL)
- SI (source index), DI (destination index)
  - usados para manipular strings e vetores
- BP (stack base pointer), SP (stack pointer)
  - usados para manipular a pilha
  - armazenam a base e o topo da pilha, respectivamente

Registradores da família 80386 (32 bits)
- EAX (AX (AH, AL))
- EBX (BX (BH, BL))
- ECX (CX (CH, CL))
- EDX (DX (DH, DL))
- ESI (SI)
- EDI (DI)
- EBP (BP)
- ESP (SP)


Registradores Intel x86-64 e AMD64 (64 bits)
- RAX (EAX (AX (AH, AL)))
- RBX (EBX (BX (BH, BL)))
- RCX (ECX (CX (CH, CL)))
- RDX (EDX (DX (DH, DL)))
- RSI (ESI (SI))
- RDI (EDI (DI))
- R8 até R15

